/*! b_data-filter - v0.0.1 - 2014-11-20
* Copyright (c) 2014 b:dreizehn GmbH; Licensed under  */
define(["underscore"],function(a){var b={};return b.Filter=function(a){var b=this;return b.initialize(a)},b.Filter.prototype={initialize:function(c){var d=this;return d.subFilters=[],c&&a.isArray(c.subFilters)&&a.each(c.subFilters,function(a){d.subFilters.push(new b.SubFilter(a))}),d},filter:function(b,c){var d,e=this;if(!a.isArray(c))throw"The provided dataArray must be of type array.";return d=c.slice(),a.each(e.subFilters,function(a){d=a.filter(b,d)}),d}},b.SubFilter=function(a){var b=this;b.initialize(a)},b.SubFilter.prototype={preparedFilterFunctions:{equal:function(a,b){return a==b},equalStrict:function(a,b){return a===b},greaterThan:function(b,c){var d,e;return d=a.isString(b)?parseFloat(b):b,e=a.isString(b)?parseFloat(c):c,d>e},greaterThanOrEqual:function(b,c){var d,e;return d=a.isString(b)?parseFloat(b):b,e=a.isString(b)?parseFloat(c):c,d>=e},lessThan:function(b,c){var d,e;return d=a.isString(b)?parseFloat(b):b,e=a.isString(b)?parseFloat(c):c,e>d},lessThanOrEqual:function(b,c){var d,e;return d=a.isString(b)?parseFloat(b):b,e=a.isString(b)?parseFloat(c):c,e>=d}},initialize:function(b){var c=this;c.origConf=b,c.referenceAttributeName=b.referenceAttribute,c.dataAttributeName=b.dataAttribute||c.referenceAttributeName,c.skipEmptyReferenceAttribute=b.skipEmptyReferenceAttribute||"undefined"==typeof b.skipEmptyReferenceAttribute?!0:!1,a.isFunction(b.filterFunction)?c.filterFunction=b.filterFunction:a.isString(b.filterFunction)&&(c.filterFunction=c.preparedFilterFunctions[b.filterFunction])},filter:function(b,c){var d=this,e=[],f=b[d.referenceAttributeName];return!d.skipEmptyReferenceAttribute||"undefined"!=typeof f&&null!==f&&""!==f?(a.each(c,function(a){var b=a[d.dataAttributeName];d.filterFunction(f,b)&&e.push(a)}),e):c.slice()}},b});